"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_clientAjax=require("client-ajax"),_clientAjax2=_interopRequireDefault(_clientAjax),Secret=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return a.state={model:1,lisence:"",password:"",msg:""},a}return _inherits(t,e),_createClass(t,null,[{key:"getMeta",value:function(){return{title:"廖仲武的博客 - Liaozhongwu's Blog",description:"廖仲武的博客 - Liaozhongwu's Blog",cssFile:["/vendor/font-awesome/css/font-awesome.min.css","/css/theme.css","/page/secret/index.css"],jsFile:["/page/secret/index.js"]}}}]),_createClass(t,[{key:"handleModelChange",value:function(e){this.setState({model:e,lisence:"",password:"",msg:""})}},{key:"handleValueChange",value:function(e,t){this.setState(_defineProperty({},e,t))}},{key:"handleQuery",value:function(){var e=this,t=this.state.lisence;(0,_clientAjax2["default"])({url:"/secret/query",data:{lisence:t}}).then(function(t){e.setState({msg:t.msg})})}},{key:"handleSave",value:function(){var e=this,t=this.state,a=t.lisence,r=t.password;(0,_clientAjax2["default"])({url:"/secret/save",method:"post",data:{lisence:a,password:r}}).then(function(t){e.setState({msg:t.msg})})}},{key:"renderForm",value:function(){var e=this,t=this.state,a=t.model,r=t.lisence,n=t.password,l=t.msg;return 1===a?_react2["default"].createElement("form",{className:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"form-control"},_react2["default"].createElement("label",{className:"label"},"车牌"),_react2["default"].createElement("input",{className:"input",type:"text",name:"lisence",placeholder:"车牌",required:!0,value:r,onChange:function(t){return e.handleValueChange("lisence",t.target.value)}}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"form-control"},_react2["default"].createElement("input",{className:"btn",type:"button",value:"查询",onClick:function(t){return e.handleQuery()}}),_react2["default"].createElement("span",{className:"form-static"},l)))):2===a?_react2["default"].createElement("form",{className:"form"},_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"form-control"},_react2["default"].createElement("label",{className:"label"},"车牌"),_react2["default"].createElement("input",{className:"input",type:"text",name:"lisence",placeholder:"车牌",required:!0,value:r,onChange:function(t){return e.handleValueChange("lisence",t.target.value)}}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"form-control"},_react2["default"].createElement("label",{className:"label"},"密码"),_react2["default"].createElement("input",{className:"input",type:"text",name:"lisence",placeholder:"密码",required:!0,value:n,onChange:function(t){return e.handleValueChange("password",t.target.value)}}))),_react2["default"].createElement("div",{className:"form-group"},_react2["default"].createElement("div",{className:"form-control"},_react2["default"].createElement("input",{className:"btn",type:"button",value:"收录",onClick:function(t){return e.handleSave()}}),_react2["default"].createElement("span",{className:"form-static"},l)))):void 0}},{key:"render",value:function(){var e=this,t=this.state.model;return _react2["default"].createElement("div",{className:"content"},_react2["default"].createElement("div",{className:"tabs"},_react2["default"].createElement("div",{className:1===t?"tab active":"tab",onClick:function(t){return e.handleModelChange(1)}},"我要查询"),_react2["default"].createElement("div",{className:2===t?"tab active":"tab",onClick:function(t){return e.handleModelChange(2)}},"我要收录")),this.renderForm())}}]),t}(_react2["default"].Component);exports["default"]=Secret;