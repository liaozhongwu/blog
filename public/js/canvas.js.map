{"version":3,"sources":["canvas.js"],"names":["resize","e","canvas","width","window","innerWidth","document","body","clientWidth","height","innerHeight","random","min","max","Math","near","p1","p2","d","dx","x","dy","y","getRadian","fromPoint","toPoint","r","PI","atan","render","clear","points","forEach","point","s","cos","sin","mouse","context","fillStyle","fillRect","nearPoints","filter","sort","i","beginPath","lineWidth","moveTo","lineTo","strokeStyle","stroke","closePath","next","length","RAF","clearRect","getElementById","rect","getBoundingClientRect","getContext","addEventListener","push","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","RequestAnimationFrame","func","setTimeout","clientX","clientY","changedTouches"],"mappings":"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","file":"canvas.js","sourcesContent":["(function () {\n\tvar canvas = document.getElementById(\"canvas\")\n\tvar rect = canvas.getBoundingClientRect()\n\tvar context = canvas.getContext('2d')\n\n\tfunction resize (e) {\n\t\tcanvas.width = window.innerWidth || document.body.clientWidth\n\t\tcanvas.height = window.innerHeight || document.body.clientWidth\t\t\t\t\n\t}\n\n\twindow.addEventListener(\"resize\", resize)\n\tresize()\n\n\tvar points = []\n\tfor (var i = 0; i < canvas.width / 10; ++i) {\n\t\tpoints.push({\n\t\t\tx: random(0, rect.width),\n\t\t\ty: random(0, rect.height),\n\t\t\tr: random(0, Math.PI*2),\n\t\t\ts: 1,\n\t\t})\n\t}\n\tvar mouse = null\n\tvar RAF = (function () {\n\t\treturn window.requestAnimationFrame || \n\t\t\twindow.webkitRequestAnimationFrame || \n\t\t\twindow.mozRequestAnimationFrame || \n\t\t\twindow.oRequestAnimationFrame || \n\t\t\twindow.RequestAnimationFrame || \n\t\t\tfunction (func) {\n\t\t\t\tsetTimeout(func, 1000 / 60)\n\t\t\t}\n\t})()\n\n\tfunction random (min, max) {\n\t\treturn Math.random() * (max - min) + min\n\t}\n\n\tfunction near (p1, p2, d) {\n\t\td = d || 100\n\t\tif (p1 && p2) {\n\t\t\tvar dx = p1.x - p2.x\n\t\t\tvar dy = p1.y - p2.y \n\t\t\tif (dx * dx + dy * dy < d * d) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction getRadian (fromPoint, toPoint) {\n\t\tvar r = 0;\n\t\tif (toPoint.x === fromPoint.x) {\n\t\t\tif (toPoint.y > fromPoint.y) {\n\t\t\t\tr = 0\n\t\t\t} else {\n\t\t\t\tr = Math.PI\n\t\t\t}\n\t\t} else {\n\t\t\tr = Math.atan((toPoint.y - fromPoint.y) / (toPoint.x - fromPoint.x))\n\n\t\t\tif (r < 0) {\n\t\t\t\tr += Math.PI\n\t\t\t}\n\t\t\tif (toPoint.y < fromPoint.y) {\n\t\t\t\tr += Math.PI\n\t\t\t}\n\t\t}\n\t\treturn r;\n\t}\n\n\tfunction render () {\n\t\tclear()\n\n\t\tpoints.forEach(function (point) {\n\t\t\tvar dx = point.s * Math.cos(point.r)\n\t\t\tvar dy = point.s * Math.sin(point.r)\n\n\t\t\tpoint.x += dx\n\t\t\tpoint.y += dy\n\n\t\t\tif (mouse && near(mouse, point, 150) && !near(mouse, point, 100)) {\n\t\t\t\tpoint.x += (mouse.x - point.x) * 0.03\n\t\t\t\tpoint.y += (mouse.y - point.y) * 0.03\n\t\t\t}\n\n\t\t\tif (point.y <= 0 || point.y >= canvas.height) {\n\t\t\t\tpoint.r = Math.PI*2 - point.r\n\t\t\t}\n\n\t\t\tif (point.x <= 0 || point.x >= canvas.width) {\n\t\t\t\tif (point.r > Math.PI) {\n\t\t\t\t\tpoint.r = Math.PI*3 - point.r\n\t\t\t\t} else {\n\t\t\t\t\tpoint.r = Math.PI - point.r\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcontext.fillStyle=\"#333333\"\n\t\t\tcontext.fillRect(point.x - 0.5, point.y - 0.5, 1, 1)\n\t\t})\n\n\t\tif (mouse) {\n\t\t\tvar nearPoints = points.filter(function(point) {\n\t\t\t\treturn near(mouse, point, 120)\n\t\t\t}).sort(function (p1, p2) {\n\t\t\t\treturn (getRadian(mouse, p1) > getRadian(mouse, p2)) ? 1 : -1\n\t\t\t})\n\n\t\t\tnearPoints.forEach(function (point, i) {\n\t\t\t\tcontext.beginPath()\n\t\t\t\tcontext.lineWidth = 0.5\n\t\t\t\tcontext.moveTo(mouse.x, mouse.y)\n\t\t\t\tcontext.lineTo(point.x, point.y)\n\t\t\t\tcontext.strokeStyle=\"#495A80\"\n\t\t\t\tcontext.stroke()\n\t\t\t\tcontext.closePath()\n\t\t\t\tvar next = i + 1\n\t\t\t\tif (next >= nearPoints.length) {\n\t\t\t\t\tnext = 0\n\t\t\t\t}\n\t\t\t\tcontext.beginPath()\n\t\t\t\tcontext.lineWidth = 0.3\n\t\t\t\tcontext.moveTo(point.x, point.y)\n\t\t\t\tcontext.lineTo(nearPoints[next].x, nearPoints[next].y)\n\t\t\t\tcontext.strokeStyle=\"#495A80\"\n\t\t\t\tcontext.stroke()\n\t\t\t\tcontext.closePath()\n\t\t\t})\n\t\t}\n\n\t\tRAF(render)\n\t}\n\n\tfunction clear () {\n\t\tcontext.clearRect(0, 0, canvas.width, canvas.height)\n\t}\n\n\tcanvas.addEventListener(\"mousemove\", function (e) {\n\t\tmouse = {\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t}\n\t})\n\n\tcanvas.addEventListener(\"mouseout\", function (e) {\n\t\tmouse = null\n\t})\n\n\tcanvas.addEventListener(\"touchmove\", function (e) {\n\t\tif (e.changedTouches && e.changedTouches.length > 0) {\n\t\t\tmouse = {\n\t\t\t\tx: e.changedTouches[0].clientX,\n\t\t\t\ty: e.changedTouches[0].clientY\n\t\t\t}\n\t\t}\n\t})\n\n\tcanvas.addEventListener(\"touchend\", function (e) {\n\t\tmouse = null\n\t})\n\n\trender()\n})()"],"sourceRoot":"/source/"}